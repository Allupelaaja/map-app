{"version":3,"sources":["components/Footer.js","components/Map.js","components/Sidebar.js","components/MainContainer.js","App.js","index.js"],"names":["Footer","styles","footer","position","textAlign","width","bottom","left","backgroundColor","zIndex","height","footerText","top","transform","padding","margin","style","Map","props","markers","setMarkers","AddMarkerToClick","getAddressFromApi","lat","lng","a","fetch","then","response","json","data","marker","newAddress","addressString","address","road","house_number","useMapEvents","click","e","addToMarkers","latlng","map","Marker","icon","Icon","iconUrl","markerIconPng","iconSize","iconAnchor","Popup","onClick","index","indexOf","newMarkers","splice","console","log","removeMarker","useState","mainWidth","setMainWidth","window","addEventListener","innerWidth","main","float","className","MapContainer","center","zoom","TileLayer","attribution","url","Sidebar","sidebarDisplay","setSidebarDisplay","sidebar","display","borderRadius","overflowY","headerDiv","buttonDiv","justifyContent","marginRight","marginLeft","sessionStorage","clear","MainContainer","App","initialStorage","JSON","parse","getItem","useEffect","setItem","stringify","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.32bce893.chunk.js","sourcesContent":["function Footer() {\n\n    const styles = {\n        footer: {\n            position: 'relative',\n            textAlign: 'center',\n            width: '100%',\n            bottom: '0',\n            left: '0',\n            backgroundColor: '#9dc7d5',\n            zIndex: '1000',\n            height: '5%',\n        },\n        footerText: {\n            position: 'absolute',\n            top: '50%',\n            left: '50%',\n            transform: 'translate(-50%, -50%)',\n            padding: '0',\n            margin: '0',\n        }\n    };\n\n    return (\n        <div style={styles.footer}>\n            <p style={styles.footerText}>Aleksi Heikkil√§ 2021</p>\n        </div>\n    )\n}\n\nexport default Footer","import { MapContainer, TileLayer, useMapEvents, Marker, Popup } from \"react-leaflet\";\nimport markerIconPng from \"leaflet/dist/images/marker-icon.png\"\nimport { Icon } from 'leaflet'\nimport 'leaflet/dist/leaflet.css';\nimport { useState } from \"react\";\n\nfunction Map(props) {\n\n    const markers = props.markers\n    const setMarkers = props.setMarkers\n\n    function AddMarkerToClick() {\n\n        function removeMarker(marker) {\n            const index = markers.indexOf(marker);\n            if (index > -1) {\n                var newMarkers = [...markers]\n                newMarkers.splice(index, 1);\n                setMarkers(newMarkers)\n            }\n            console.log(\"marker removed\")\n        }\n\n        async function getAddressFromApi(lat, lng) {\n            return fetch('https://nominatim.openstreetmap.org/reverse.php?lat=' + lat + '&lon=' + lng + '&zoom=18&format=jsonv2')\n                    .then((response) => response.json())\n                    .then((data) => {\n                        return data})\n        }\n\n        async function addToMarkers(marker) {\n            const newAddress = await getAddressFromApi(marker.lat, marker.lng)\n            var addressString = ''\n            if (newAddress) {\n                if (newAddress.address.road && newAddress.address.house_number) {\n                    addressString = newAddress.address.road + ' ' + newAddress.address.house_number\n                } else if (newAddress.address.road) {\n                    addressString = newAddress.address.road\n                }\n            }\n            marker.address = addressString\n            setMarkers([...markers, marker]);\n        }\n\n        useMapEvents({\n            click(e) {\n                const newMarker = e.latlng\n                addToMarkers(newMarker)\n            },\n        })\n\n        return (\n            <>\n                {markers.map(marker =>\n                    <Marker key={marker.lat + ' ' + marker.lng} position={marker} icon={new Icon({ iconUrl: markerIconPng, iconSize: [25, 41], iconAnchor: [12, 41] })}>\n                        <Popup>\n                            <div>\n                                <p>Marker is at {marker.lat}, {marker.lng}</p>\n                                {marker.address !== '' ? <p>The address is: {marker.address}</p> : <></>}\n                                <button onClick={() => removeMarker(marker)}>Remove marker</button>\n                            </div>\n                        </Popup>\n                    </Marker>\n                )}\n            </>\n        )\n    }\n\n    const [mainWidth, setMainWidth] = useState('75%')\n\n    function onResize() {\n        if (window.innerWidth < 1000) {\n            setMainWidth('100%')\n        } else {\n            setMainWidth('75%')\n        }\n    }\n\n    window.addEventListener(\"resize\", onResize);\n\n    const styles = {\n        map: {\n            height: \"100%\",\n            width: \"100%\",\n            position: 'absolute',\n        },\n        main: {\n            float: 'left',\n            width: mainWidth,\n            position: 'relative',\n        }\n    };\n\n    const defaultPosition = [60.17054205960518, 24.9414674394951];\n\n    return (\n        <div style={styles.main}>\n            <div className=\"map__container\">\n                <MapContainer\n                    center={defaultPosition}\n                    zoom={13}\n                    style={styles.map}\n                >\n                    <AddMarkerToClick />\n                    <TileLayer\n                        attribution='&copy; <a href=\"http://osm.org/copyright\">OpenStreetMap</a> contributors'\n                        url=\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\n                    />\n                </MapContainer>\n            </div>\n        </div>\n\n    );\n};\n\nexport default Map","import { useState } from \"react\";\n\nfunction Sidebar(props) {\n\n    const [sidebarDisplay, setSidebarDisplay] = useState('block')\n\n    const styles = {\n        sidebar: {\n            display: sidebarDisplay,\n            height: '100%',\n            top: '0',\n            left: '0',\n            textAlign: 'center',\n            float: 'left',\n            width: '25%',\n            backgroundColor: 'lightblue',\n        },\n        marker: {\n            backgroundColor: '#c1e7f3',\n            borderRadius: '15px',\n            margin: '5px',\n            padding: '25px'\n        },\n        markers: {\n            overflowY: 'auto',\n            height: '80%',\n        },\n        headerDiv: {\n        },\n        buttonDiv: {\n            display: 'flex',\n            padding: '25px',\n            justifyContent: 'center',\n        }\n    };\n\n    function onResize() {\n        if (window.innerWidth < 1000) {\n            setSidebarDisplay('none')\n        } else {\n            setSidebarDisplay('block')\n        }\n    }\n\n    window.addEventListener(\"resize\", onResize);\n\n    const markers = props.markers\n    const setMarkers = props.setMarkers\n\n    function clearMarkers() {\n        setMarkers([])\n        sessionStorage.clear()\n    }\n\n    function removeMarker(marker) {\n        const index = markers.indexOf(marker);\n        if (index > -1) {\n            var newMarkers = [...markers]\n            newMarkers.splice(index, 1);\n            setMarkers(newMarkers)\n        }\n        console.log(\"marker removed\")\n    }\n\n    return (\n        <div style={styles.sidebar}>\n            <div style={styles.headerDiv}>\n                <div style={styles.buttonDiv}>\n                    <p style={{ marginRight: '25px' }}>List of markers</p>\n                    <button style={{ marginLeft: '25px' }} onClick={() => clearMarkers()}>Clear all markers</button>\n                </div>\n            </div>\n            <div style={styles.markers}>\n                {markers.map(marker =>\n                    <div key={marker.lat + ' ' + marker.lng} style={styles.marker}>\n                        <p>{markers.indexOf(marker) + 1}. Marker: {marker.lat + ' ' + marker.lng}</p>\n                        {marker.address !== '' ? <p>Address: {marker.address}</p> : <></>}\n                        <button onClick={() => removeMarker(marker)}>Delete marker</button>\n                    </div>\n                )}\n            </div>\n        </div>\n    )\n}\n\nexport default Sidebar","import Map from './Map'\nimport Sidebar from './Sidebar';\n\nfunction MainContainer(props) {\n\n    const markers = props.markers\n    const setMarkers = props.setMarkers\n\n    const styles = {\n        container: {\n            display: 'flex',\n            height: '95%'\n        }\n    }\n\n    return (\n        <div style={styles.container}>\n            <Sidebar markers={markers} setMarkers={setMarkers} />\n            <Map markers={markers} setMarkers={setMarkers} />\n        </div>\n    )\n}\n\nexport default MainContainer","import Header from './components/Header'\nimport Footer from './components/Footer';\nimport MainContainer from './components/MainContainer';\nimport { useState, useEffect } from 'react';\n\nfunction App() {\n\n  var initialStorage = JSON.parse(sessionStorage.getItem('markers'))\n\n  if (!initialStorage) {\n    initialStorage = []\n  }\n\n  const [markers, setMarkers] = useState(initialStorage);\n\n  useEffect(() => {\n    console.log(markers)\n    sessionStorage.setItem('markers', JSON.stringify(markers))\n  }, [markers]);\n\n  return (\n    <div style={{height: '100%'}}>\n      {/* <Header /> */}\n      <MainContainer markers={markers} setMarkers={setMarkers}/>\n      <Footer />\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport './css/App.css'\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root')\n);"],"sourceRoot":""}